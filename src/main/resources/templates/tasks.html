<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Todo Application</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

    <style>

        /* Background image with overlay */
        body {
            background-image: url('/image1.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            margin: 0;
            padding-bottom: 40px;
        }

        /* Stylish title */
        .main-title {
            font-size: 3rem;
            font-weight: 800;
            text-transform: uppercase;
            background: linear-gradient(90deg, #0d47a1, #e91e63);
            -webkit-background-clip: text;
            color: transparent;
            text-shadow: 0px 3px 6px rgba(0,0,0,0.2);
            letter-spacing: 2px;
        }

        /* Strike-through for completed tasks */
        .text-strikethrough {
            text-decoration: line-through;
            color: #757575;
        }

        /* Card style */
        .todo-card {
            border-radius: 14px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(6px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
            transition: transform 0.15s ease-in-out, box-shadow 0.15s;
        }

        .todo-card:hover {
            transform: scale(1.01);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
        }

        .task-title {
            font-size: 1.3rem;
            font-weight: 600;
        }

        .btn-primary {
            width: 100%;
            height: 48px;
            font-size: 1.1rem;
            font-weight: bold;
        }
    </style>
</head>

<body>
<div class="overlay">
    <div class="container">

        <!-- BEAUTIFUL TITLE -->
        <h1 class="mt-5 mb-4 text-center main-title">Todo Application</h1>

        <!-- Form -->
        <form action="#" th:action="@{/tasks}" method="post" class="row mt-3">
            <div class="col-md-10">
                <input class="form-control form-control-lg" type="text" name="title"
                       placeholder="Add a new task..." required>
            </div>
            <div class="col-md-2">
                <button type="submit" class="btn btn-primary btn-lg btn-block">Add</button>
            </div>
        </form>

        <!-- Task List -->
        <div class="mt-4">
            <th:block th:each="task : ${tasks}">
                <div class="card mb-3 todo-card">
                    <div class="card-body d-flex justify-content-between align-items-center">

                        <span class="task-title"
                              th:classappend="${task.completed} ? ' text-strikethrough' : ''"
                              th:text="${task.title}">
                            Task Title
                        </span>

                        <div>
                            <a th:href="@{/tasks/{id}/toggle(id=${task.id})}"
                               class="btn btn-outline-secondary btn-sm">Toggle</a>

                            <a th:href="@{/tasks/{id}/delete(id=${task.id})}"
                               class="btn btn-outline-danger btn-sm ms-2">Delete</a>
                        </div>

                    </div>
                </div>
            </th:block>
        </div>

    </div>
</div>
</body>
</html>
